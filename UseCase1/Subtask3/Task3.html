<h1>Task 1.3 Orchestration with Storage Event Trigger</h1>
<h2>Run Scenario:</h2>
<ol>
<li>Before starting the run scenario, clear <code>“bronze/youflix”</code> and <code>“silver/youflix”</code> directories.</li>
<li>Delete and re-create YouFlixDB database from scratch using <code>DeploymentScript.sql</code> script. It is necessary to
   get rid of the results of your previous execution and testing activities.</li>
<li>Drop <code>YouFlix</code> database from your Databricks workspace.</li>
<li>Go to data lake <code>stdimentoringdatalakexx</code> and proceed to Storage browser, then click on Tables and edit
   each of entity by setting watermark value to <code>2000-01-01T00:00:00.00Z</code>.</li>
<li>
<p>Take screenshot(s) of created trigger.
   <img alt="" src="./screenshots/linked-trigger-to-pipeline.png" />
   <img alt="" src="./screenshots/trigger-matching-files.png" /></p>
</li>
<li>
<p>Execute pipeline from task 1.1 manually.</p>
</li>
<li>
<p>When it’s completed and pipeline from task 1.2 is triggered, take screenshot(s) from Monitor tab with
   <code>“Triggered by”</code> column is visible for the triggered pipeline.
   <img alt="" src="./screenshots/databricks-pipeline.png" />
   <img alt="" src="./screenshots/pipeline-triggered.png" /></p>
</li>
<li>
<p>In Synapse Workspace, navigate to Data section, find in Linked tab your container, open <code>“silver/youflix”</code> and
   check number of rows for each delta table using SQL query.</p>
</li>
<li>
<p>Take screenshot(s) of SQL queries with count values.
   <img alt="" src="./screenshots/subscription-count-silver.png" />
   <img alt="" src="./screenshots/device-count-silver.png" />
   <img alt="" src="./screenshots/user-subscription-device-sount-silver.png" /></p>
</li>
<li>
<p>Connect to MS SQL Server YouFlix database and run the following command:
    <code>sql
    EXEC youflix_internal.sp_youflix_tables_insert_update 200000, 0;</code>
    <img alt="" src="./screenshots/table-update.png" /></p>
</li>
<li>
<p>Execute pipeline from task 1.1 manually and wait until triggered pipeline from 1.2 is finished.</p>
</li>
<li>In Synapse Workspace, navigate to Data section, find in Linked tab your container, open “silver/youflix” and
    check number of rows for each delta table using SQL query.</li>
<li>Take screenshot(s) of SQL queries with count values.
    <img alt="" src="./screenshots/user-subscription-device-sount-upd.png" />
    <img alt="" src="./screenshots/device-count-upd.png" />
    <img alt="" src="./screenshots/subscription-count-upd.png" /></li>
</ol>